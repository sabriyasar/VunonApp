{"version":3,"sources":["Indicator.tsx"],"names":["React","useMemo","useCallback","memo","Animated","Svg","Circle","isEqual","styles","interpolate","Extrapolate","AnimatedCircle","createAnimatedComponent","BORDER_WIDTH","IndicatorComponent","index","indicatorSize","indicatorBackgroundColor","indicatorBorderColor","animatedIndex","item","radius","animatedRadius","inputRange","outputRange","extrapolate","CLAMP","animatedIconScale","animatedIconOpacity","animatedCircleFillOpacity","containerStyle","container","width","height","iconStyle","iconContainer","left","right","top","bottom","borderRadius","opacity","transform","scale","renderIcon","icon","IconComponent","size","Indicator"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,WAAzB,EAAsCC,IAAtC,QAAkD,OAAlD;AAEA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,GAAT,EAAcC,MAAd,QAAyC,kBAAzC,C,CACA;;AACA,OAAOC,OAAP,MAAoB,gBAApB;AAEA,SAASC,MAAT,QAAuB,UAAvB;AAEA,MAAM;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,IAA+BN,QAArC;AAEA,MAAMO,cAAc,GAAGP,QAAQ,CAACQ,uBAAT,CACrBN,MADqB,CAAvB;AAMA,MAAMO,YAAY,GAAG,CAArB;;AAEA,MAAMC,kBAAkB,GAAG,CAAC;AAC1BC,EAAAA,KAD0B;AAE1BC,EAAAA,aAF0B;AAG1BC,EAAAA,wBAH0B;AAI1BC,EAAAA,oBAJ0B;AAK1BC,EAAAA,aAL0B;AAM1BC,EAAAA;AAN0B,CAAD,KAOL;AACpB,QAAMC,MAAM,GAAGpB,OAAO,CAAC,MAAM,CAACe,aAAa,GAAG,CAAjB,IAAsB,CAA7B,EAAgC,CAACA,aAAD,CAAhC,CAAtB,CADoB,CAGpB;;AACA,QAAMM,cAAc,GAAGb,WAAW,CAACU,aAAD,EAAgB;AAChDI,IAAAA,UAAU,EAAE,CAACR,KAAK,GAAG,CAAT,EAAYA,KAAZ,EAAmBA,KAAK,GAAG,CAA3B,CADoC;AAEhDS,IAAAA,WAAW,EAAE,CAACH,MAAM,GAAG,IAAV,EAAgBA,MAAhB,EAAwBA,MAAM,GAAG,IAAjC,CAFmC;AAGhDI,IAAAA,WAAW,EAAEf,WAAW,CAACgB;AAHuB,GAAhB,CAAlC;AAMA,QAAMC,iBAAiB,GAAGlB,WAAW,CAACU,aAAD,EAAgB;AACnDI,IAAAA,UAAU,EAAE,CAACR,KAAK,GAAG,CAAT,EAAYA,KAAZ,EAAmBA,KAAK,GAAG,CAA3B,CADuC;AAEnDS,IAAAA,WAAW,EAAE,CAAC,IAAI,IAAL,EAAW,CAAX,EAAc,IAAI,IAAlB,CAFsC;AAGnDC,IAAAA,WAAW,EAAEf,WAAW,CAACgB;AAH0B,GAAhB,CAArC;AAMA,QAAME,mBAAmB,GAAGnB,WAAW,CAACU,aAAD,EAAgB;AACrDI,IAAAA,UAAU,EAAE,CAACR,KAAK,GAAG,IAAT,EAAeA,KAAf,EAAsBA,KAAK,GAAG,IAA9B,CADyC;AAErDS,IAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFwC;AAGrDC,IAAAA,WAAW,EAAEf,WAAW,CAACgB;AAH4B,GAAhB,CAAvC;AAMA,QAAMG,yBAAyB,GAAGpB,WAAW,CAACU,aAAD,EAAgB;AAC3DI,IAAAA,UAAU,EAAE,CAACR,KAAK,GAAG,CAAT,EAAYA,KAAZ,CAD+C;AAE3DS,IAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ,CAF8C;AAG3DC,IAAAA,WAAW,EAAEf,WAAW,CAACgB;AAHkC,GAAhB,CAA7C,CAtBoB,CA2BpB;AAEA;;AACA,QAAMI,cAAc,GAAG7B,OAAO,CAC5B,sCACKO,MAAM,CAACuB,SADZ,GAEK;AACDC,IAAAA,KAAK,EAAEhB,aADN;AAEDiB,IAAAA,MAAM,EAAEjB;AAFP,GAFL,CAD4B,EAQ5B,CAACA,aAAD,CAR4B,CAA9B;AAWA,QAAMkB,SAAc,GAAGjC,OAAO,CAC5B,sCACKO,MAAM,CAAC2B,aADZ,GAEK;AACDC,IAAAA,IAAI,EAAEvB,YAAY,GAAG,CADpB;AAEDwB,IAAAA,KAAK,EAAExB,YAAY,GAAG,CAFrB;AAGDyB,IAAAA,GAAG,EAAEzB,YAAY,GAAG,CAHnB;AAID0B,IAAAA,MAAM,EAAE1B,YAAY,GAAG,CAJtB;AAKD2B,IAAAA,YAAY,EAAExB,aALb;AAMDyB,IAAAA,OAAO,EAAEb,mBANR;AAODc,IAAAA,SAAS,EAAE,CAAC;AAAEC,MAAAA,KAAK,EAAEhB;AAAT,KAAD;AAPV,GAFL,CAD4B,EAa5B;AACA,GAACX,aAAD,CAd4B,CAA9B,CAzCoB,CAyDpB;AAEA;;AACA,QAAM4B,UAAU,GAAG1C,WAAW,CAAC,MAAM;AACnC,QAAIkB,IAAI,CAACyB,IAAT,EAAe;AACb,YAAMC,aAAkB,GAAG1B,IAAI,CAACyB,IAAhC;AACA,0BACE,oBAAC,QAAD,CAAU,IAAV;AAAe,QAAA,KAAK,EAAEX;AAAtB,SACG,OAAOY,aAAP,KAAyB,UAAzB,GACCA,aAAa,CAAC;AACZC,QAAAA,IAAI,EAAE/B,aAAa,GAAG;AADV,OAAD,CADd,gBAKC,oBAAC,aAAD;AAAe,QAAA,IAAI,EAAEA,aAAa,GAAG;AAArC,QANJ,CADF;AAWD;;AACD,WAAO,IAAP;AACD,GAhB6B,EAgB3B,CAACI,IAAD,EAAOJ,aAAP,EAAsBkB,SAAtB,CAhB2B,CAA9B;AAkBA,sBACE,oBAAC,QAAD,CAAU,IAAV;AAAe,IAAA,KAAK,EAAEJ;AAAtB,kBACE,oBAAC,GAAD;AACE,IAAA,KAAK,EAAEd,aADT;AAEE,IAAA,MAAM,EAAEA,aAFV;AAGE,IAAA,OAAO,gBAASA,aAAT,cAA0BA,aAA1B;AAHT,kBAKE,oBAAC,cAAD;AACE,IAAA,CAAC,EAAEM,cADL;AAEE,IAAA,EAAE,EAAEN,aAAa,GAAG,CAFtB;AAGE,IAAA,EAAE,EAAEA,aAAa,GAAG,CAHtB,CAIE;AAJF;AAKE,IAAA,IAAI,EAAEC,wBALR;AAME,IAAA,WAAW,EAAEY,yBANf;AAOE,IAAA,MAAM,EAAEX,oBAPV;AAQE,IAAA,WAAW,EAAEL;AARf,IALF,CADF,EAiBG+B,UAAU,EAjBb,CADF;AAqBD,CA1GD;;AA2GA,MAAMI,SAAS,gBAAG7C,IAAI,CAACW,kBAAD,EAAqBP,OAArB,CAAtB;AAEA,eAAeyC,SAAf","sourcesContent":["import React, { useMemo, useCallback, memo } from 'react';\nimport { ViewStyle } from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport { Svg, Circle, CircleProps } from 'react-native-svg';\n// @ts-ignore ðŸ˜ž\nimport isEqual from 'lodash.isequal';\nimport { IndicatorProps } from '../../types';\nimport { styles } from './styles';\n\nconst { interpolate, Extrapolate } = Animated;\n\nconst AnimatedCircle = Animated.createAnimatedComponent(\n  Circle\n) as React.ComponentClass<\n  Animated.AnimateProps<ViewStyle, CircleProps & { style?: any }>\n>;\n\nconst BORDER_WIDTH = 2;\n\nconst IndicatorComponent = ({\n  index,\n  indicatorSize,\n  indicatorBackgroundColor,\n  indicatorBorderColor,\n  animatedIndex,\n  item,\n}: IndicatorProps) => {\n  const radius = useMemo(() => (indicatorSize - 2) / 2, [indicatorSize]);\n\n  //#region animation\n  const animatedRadius = interpolate(animatedIndex, {\n    inputRange: [index - 1, index, index + 1],\n    outputRange: [radius * 0.33, radius, radius * 0.33],\n    extrapolate: Extrapolate.CLAMP,\n  });\n\n  const animatedIconScale = interpolate(animatedIndex, {\n    inputRange: [index - 1, index, index + 1],\n    outputRange: [1 * 0.33, 1, 1 * 0.33],\n    extrapolate: Extrapolate.CLAMP,\n  });\n\n  const animatedIconOpacity = interpolate(animatedIndex, {\n    inputRange: [index - 0.25, index, index + 0.25],\n    outputRange: [0, 1, 0],\n    extrapolate: Extrapolate.CLAMP,\n  });\n\n  const animatedCircleFillOpacity = interpolate(animatedIndex, {\n    inputRange: [index - 1, index],\n    outputRange: [0, 1],\n    extrapolate: Extrapolate.CLAMP,\n  });\n  //#endregion\n\n  //#region styles\n  const containerStyle = useMemo(\n    () => ({\n      ...styles.container,\n      ...{\n        width: indicatorSize,\n        height: indicatorSize,\n      },\n    }),\n    [indicatorSize]\n  );\n\n  const iconStyle: any = useMemo(\n    () => ({\n      ...styles.iconContainer,\n      ...{\n        left: BORDER_WIDTH * 2,\n        right: BORDER_WIDTH * 2,\n        top: BORDER_WIDTH * 2,\n        bottom: BORDER_WIDTH * 2,\n        borderRadius: indicatorSize,\n        opacity: animatedIconOpacity,\n        transform: [{ scale: animatedIconScale }],\n      },\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [indicatorSize]\n  );\n  //#endregion\n\n  // renders\n  const renderIcon = useCallback(() => {\n    if (item.icon) {\n      const IconComponent: any = item.icon;\n      return (\n        <Animated.View style={iconStyle}>\n          {typeof IconComponent === 'function' ? (\n            IconComponent({\n              size: indicatorSize / 2,\n            })\n          ) : (\n            <IconComponent size={indicatorSize / 2} />\n          )}\n        </Animated.View>\n      );\n    }\n    return null;\n  }, [item, indicatorSize, iconStyle]);\n\n  return (\n    <Animated.View style={containerStyle}>\n      <Svg\n        width={indicatorSize}\n        height={indicatorSize}\n        viewBox={`0 0 ${indicatorSize} ${indicatorSize}`}\n      >\n        <AnimatedCircle\n          r={animatedRadius}\n          cx={indicatorSize / 2}\n          cy={indicatorSize / 2}\n          // @ts-ignore\n          fill={indicatorBackgroundColor}\n          fillOpacity={animatedCircleFillOpacity}\n          stroke={indicatorBorderColor}\n          strokeWidth={BORDER_WIDTH}\n        />\n      </Svg>\n      {renderIcon()}\n    </Animated.View>\n  );\n};\nconst Indicator = memo(IndicatorComponent, isEqual);\n\nexport default Indicator;\n"]}