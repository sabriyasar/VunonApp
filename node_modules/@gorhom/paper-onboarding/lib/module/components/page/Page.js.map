{"version":3,"sources":["Page.tsx"],"names":["React","useMemo","useCallback","memo","Animated","PageContent","styles","interpolate","Extrapolate","PageComponent","index","item","animatedIndex","indicatorSize","titleStyle","titleStyleOverride","descriptionStyle","descriptionStyleOverride","screenDimensions","safeInsets","handleRef","animatedFocus","inputRange","outputRange","extrapolate","CLAMP","animatedContentOpacity","animatedContentTopPosition","height","contentContainerStyle","contentContainer","marginTop","top","marginRight","right","marginLeft","left","marginBottom","bottom","opacity","transform","translateY","pageContentProps","image","title","description","handleContainerRef","ref","renderContent","ContentComponent","content","container","Page"],"mappings":"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","sourcesContent":["import React, { useMemo, useCallback, memo } from 'react';\nimport Animated from 'react-native-reanimated';\nimport PageContent from '../pageContent/PageContent';\nimport { PageProps } from '../../types';\nimport { styles } from './styles';\n\nconst { interpolate, Extrapolate } = Animated;\n\nconst PageComponent = ({\n  index,\n  item,\n  animatedIndex,\n  indicatorSize,\n  titleStyle: titleStyleOverride,\n  descriptionStyle: descriptionStyleOverride,\n  screenDimensions,\n  safeInsets,\n  handleRef,\n}: PageProps) => {\n  //#region animation\n  const animatedFocus = interpolate(animatedIndex, {\n    inputRange: [index - 1, index, index + 1],\n    outputRange: [0, 1, 2],\n    extrapolate: Extrapolate.CLAMP,\n  });\n  const animatedContentOpacity = interpolate(animatedFocus, {\n    inputRange: [0.5, 1, 1.5],\n    outputRange: [0, 1, 0],\n    extrapolate: Extrapolate.CLAMP,\n  });\n\n  const animatedContentTopPosition = interpolate(animatedFocus, {\n    inputRange: [0, 1, 2],\n    outputRange: [\n      screenDimensions.height / 8,\n      0,\n      (screenDimensions.height / 6) * -1,\n    ],\n    extrapolate: Extrapolate.CLAMP,\n  });\n  //#endregion\n\n  //#region styles\n  const contentContainerStyle: any = useMemo(\n    () => [\n      styles.contentContainer,\n      {\n        marginTop: safeInsets.top,\n        marginRight: safeInsets.right,\n        marginLeft: safeInsets.left,\n        marginBottom: safeInsets.bottom + indicatorSize + safeInsets.bottom,\n        opacity: animatedContentOpacity,\n        transform: [{ translateY: animatedContentTopPosition }],\n      },\n    ],\n    [\n      animatedContentOpacity,\n      animatedContentTopPosition,\n      safeInsets,\n      indicatorSize,\n    ]\n  );\n  const titleStyle = useMemo(\n    () => [titleStyleOverride, item.titleStyle ? item.titleStyle : null],\n    [item, titleStyleOverride]\n  );\n  const descriptionStyle = useMemo(\n    () => [\n      descriptionStyleOverride,\n      item.descriptionStyle ? item.descriptionStyle : null,\n    ],\n    [item, descriptionStyleOverride]\n  );\n  //#endregion\n\n  //#region memo\n  const pageContentProps = useMemo(\n    () => ({\n      index,\n      animatedFocus,\n      image: item.image,\n      title: item.title,\n      description: item.description,\n      titleStyle,\n      descriptionStyle,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [index, item, titleStyle, descriptionStyle]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerRef = useCallback(ref => handleRef(ref, index), [\n    index,\n    handleRef,\n  ]);\n  //#endregion\n\n  // render\n  const renderContent = useCallback(() => {\n    const ContentComponent: any = item.content;\n    return ContentComponent ? (\n      typeof ContentComponent === 'function' ? (\n        ContentComponent(pageContentProps)\n      ) : (\n        <ContentComponent {...pageContentProps} />\n      )\n    ) : (\n      <PageContent {...pageContentProps} />\n    );\n  }, [item, pageContentProps]);\n  return (\n    <Animated.View\n      pointerEvents={index === 0 ? 'auto' : 'none'}\n      ref={handleContainerRef}\n      style={styles.container}\n    >\n      <Animated.View style={contentContainerStyle}>\n        {renderContent()}\n      </Animated.View>\n    </Animated.View>\n  );\n};\n\nconst Page = memo(PageComponent);\n\nexport default Page;\n"]}