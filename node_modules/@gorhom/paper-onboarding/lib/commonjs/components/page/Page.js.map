{"version":3,"sources":["Page.tsx"],"names":["interpolate","Extrapolate","Animated","PageComponent","index","item","animatedIndex","indicatorSize","titleStyle","titleStyleOverride","descriptionStyle","descriptionStyleOverride","screenDimensions","safeInsets","handleRef","animatedFocus","inputRange","outputRange","extrapolate","CLAMP","animatedContentOpacity","animatedContentTopPosition","height","contentContainerStyle","styles","contentContainer","marginTop","top","marginRight","right","marginLeft","left","marginBottom","bottom","opacity","transform","translateY","pageContentProps","image","title","description","handleContainerRef","ref","renderContent","ContentComponent","content","container","Page"],"mappings":"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","sourcesContent":["import React, { useMemo, useCallback, memo } from 'react';\nimport Animated from 'react-native-reanimated';\nimport PageContent from '../pageContent/PageContent';\nimport { PageProps } from '../../types';\nimport { styles } from './styles';\n\nconst { interpolate, Extrapolate } = Animated;\n\nconst PageComponent = ({\n  index,\n  item,\n  animatedIndex,\n  indicatorSize,\n  titleStyle: titleStyleOverride,\n  descriptionStyle: descriptionStyleOverride,\n  screenDimensions,\n  safeInsets,\n  handleRef,\n}: PageProps) => {\n  //#region animation\n  const animatedFocus = interpolate(animatedIndex, {\n    inputRange: [index - 1, index, index + 1],\n    outputRange: [0, 1, 2],\n    extrapolate: Extrapolate.CLAMP,\n  });\n  const animatedContentOpacity = interpolate(animatedFocus, {\n    inputRange: [0.5, 1, 1.5],\n    outputRange: [0, 1, 0],\n    extrapolate: Extrapolate.CLAMP,\n  });\n\n  const animatedContentTopPosition = interpolate(animatedFocus, {\n    inputRange: [0, 1, 2],\n    outputRange: [\n      screenDimensions.height / 8,\n      0,\n      (screenDimensions.height / 6) * -1,\n    ],\n    extrapolate: Extrapolate.CLAMP,\n  });\n  //#endregion\n\n  //#region styles\n  const contentContainerStyle: any = useMemo(\n    () => [\n      styles.contentContainer,\n      {\n        marginTop: safeInsets.top,\n        marginRight: safeInsets.right,\n        marginLeft: safeInsets.left,\n        marginBottom: safeInsets.bottom + indicatorSize + safeInsets.bottom,\n        opacity: animatedContentOpacity,\n        transform: [{ translateY: animatedContentTopPosition }],\n      },\n    ],\n    [\n      animatedContentOpacity,\n      animatedContentTopPosition,\n      safeInsets,\n      indicatorSize,\n    ]\n  );\n  const titleStyle = useMemo(\n    () => [titleStyleOverride, item.titleStyle ? item.titleStyle : null],\n    [item, titleStyleOverride]\n  );\n  const descriptionStyle = useMemo(\n    () => [\n      descriptionStyleOverride,\n      item.descriptionStyle ? item.descriptionStyle : null,\n    ],\n    [item, descriptionStyleOverride]\n  );\n  //#endregion\n\n  //#region memo\n  const pageContentProps = useMemo(\n    () => ({\n      index,\n      animatedFocus,\n      image: item.image,\n      title: item.title,\n      description: item.description,\n      titleStyle,\n      descriptionStyle,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [index, item, titleStyle, descriptionStyle]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerRef = useCallback(ref => handleRef(ref, index), [\n    index,\n    handleRef,\n  ]);\n  //#endregion\n\n  // render\n  const renderContent = useCallback(() => {\n    const ContentComponent: any = item.content;\n    return ContentComponent ? (\n      typeof ContentComponent === 'function' ? (\n        ContentComponent(pageContentProps)\n      ) : (\n        <ContentComponent {...pageContentProps} />\n      )\n    ) : (\n      <PageContent {...pageContentProps} />\n    );\n  }, [item, pageContentProps]);\n  return (\n    <Animated.View\n      pointerEvents={index === 0 ? 'auto' : 'none'}\n      ref={handleContainerRef}\n      style={styles.container}\n    >\n      <Animated.View style={contentContainerStyle}>\n        {renderContent()}\n      </Animated.View>\n    </Animated.View>\n  );\n};\n\nconst Page = memo(PageComponent);\n\nexport default Page;\n"]}